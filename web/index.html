<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="frontend-style/userTable.css">
</head>
<body>
<script type="text/javascript" src="frontend/JSON_Actions.js"></script>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>

<h1 id="title">Welcome</h1>
<!--
    <form method="POST" action="authentication.html">
        <input type = "submit" value="Login">
    </form>
    -->
<form method="POST" action="" name="welcome" id="welcome" style="position: absolute; left: 50px; top: 50px;">
    <p><strong>WELCOME TO THIS FANTASTIC SOFTWARE</strong></p>

    <button type="button" onclick="goToCreateUser()">Opret en bruger</button>

    <button type="button" onclick="goToDeleteUser()">Se brugere & slet brugere</button>
    <button type="button" onclick="goToAdmin()">Administrator</button>
    <button type="button" onclick="goToProduktionsleder()">Produktionsleder</button>
    <button type="button" onclick="goToAfvejning1()">Laborant</button>
    <button type="button" onclick="goToFarmaceut()">Farmaceut</button>
</form>

<form method="POST" action="" name="produktionsleder" id="produktionsleder" style="position: absolute; left: 50px; top: 50px;visibility: hidden">

    <button type="button" onclick="goToRaavarebatch1()">Ændre på råvarebatchs</button>

    <button type="button" onclick="goToProduktbatch1()">Ændre på produktionsbatches</button>
    <button type="button" onclick="goToAfvejning1()">Gå til afvejning</button>
    <button type="button" onclick="goLogIn()">LogOut</button>
</form>

<form method="POST" action="" name="raavarebatch1" id="raavarebatch1" style="position: absolute; left: 50px; top: 50px;visibility: hidden">
    <button type="button" onclick="goToRaavarebatch2()">Opret ny råvarebatch</button>

    <button type="button" onclick="goToRaavarebatch3()">Vis råvarebatch</button>

    <button type="button" onclick="goToProduktionsleder()">Gå tilbage</button>

</form>

<form method="POST" action="" name="raavarebatch3" id="raavarebatch3" style="position: absolute; left: 50px; top: 50px;visibility: hidden">
    <div id="raavareBatchList"></div>
    <button type="button" onclick="goToWelcomeFromDelete()"><bs>Tilbage til start</bs></button>
</form>

<form method="POST" action="" name="produktbatch1" id="produktbatch1" style="position: absolute; left: 50px; top: 50px;visibility: hidden">
    <button type="button" onclick="goToProduktbatch2()">Opret ny produktbatch</button>

    <button type="button" onclick="goToProduktbatch3()">Vis produktbatches</button>

    <button type="button" onclick="goToProduktionsleder()">Gå tilbage</button>
</form>

<form method="POST" action="" name="produktbatch2" id="produktbatch2" style="position: absolute; left: 50px; top: 50px;visibility: hidden">
    <b>Indtast værider</b> <br>
    <label for="receptNr">Recept nummer:</label><br>
    <input type="text" id="receptNr" name="receptNr"><br><br>
    <label for="dato">Dato:</label><br>
    <input type="date" id="dato" name="dato"><br><br>
    <input type="button" onclick="goToRaavarebatch1()" value="Gå tilbage">

    <button type="button" onclick="createProduktBatch()">Opret batch</button>

</form>

<form method="POST" action="" name="produktbatch3" id="produktbatch3" style="position: absolute; left: 50px; top: 50px;visibility: hidden">

    <div id="produktbatchList"></div> <br>
    <button type="button" onclick="goToWelcomeFromDelete()"><bs>Tilbage til start</bs></button>

</form>


<form method="POST" action="" name="raavarebatch2" id="raavarebatch2" style="position: absolute; left: 50px; top: 50px;visibility: hidden">
    <b>Indtast værider</b> <br>
    <label for="raavarebatchNr">Råvarebatch ID:</label><br>
    <input type="text" id="raavarebatchNr" name="raavarebatchNr"><br><br>
    <label for="RaavareID">RåvareID:</label><br>
    <form method="POST" action="" name="Raavarebatch2" style="position: absolute; left: 50px; top: 50px;visibility: hidden">
        <b>Indtast værdier</b>
        <label for="raavarebatchNr">Råvarebatch ID:</label>
        <input type="text" name="raavarebatchNr"><br><br>
        <label for="RaavareID">RåvareID:</label>
        <input type="text" id="RaavareID" name="RaavareID"><br><br>
        <label for="maengde">Mængde</label> <br>
        <input type="text" id="maengde" name="maengde"><br><br>
        <input type="button" onclick="goToRaavarebatch1()" value="Gå tilbage">
        <input type="submit" value="Submit">

    </form>

    <form method="POST" action="" name="administrator" id="administrator"
          style="position: absolute; left: 50px; top: 70px; visibility: hidden">
        <button type="button" onclick="goToCreateUser()">Opret en bruger </button>
        <button type="button" onclick="goToDeleteUser()">Vis brugere </button>
        <button type="button" onclick="goLogIn()">LogOut</button>
    </form>

    <form method="POST" action="" name="createUser" id="createUser"
          style="position: absolute; left: 50px; top: 70px; visibility: hidden">
        <button type="button" onclick="returnToStart();">Tilbage til start</button>
        <p>Brugernavn</p>
        <input type="text" id="uname" name="uname">
        <p>Initialer</p>
        <input type="text" id="ini" name="ini">
        <p>Cpr-nummer</p>
        <input type="text" id="cpr" name="cpr">
        <p>Password</p>
        <input type="text" id="password" name="password">
        <p>Rolle</p>
        <input type="radio" id="Pharmaceut" name="Roles" value="Pharmaceut">
        <label for="Pharmaceut"> Pharmaceut</label><br>
        <input type="radio" id="Admin" name="Roles" value="Admin">
        <label for="Admin"> Admin</label><br>
        <input type="radio" id="ProduktionslederRadio" name="Roles" value="Produktionsleder">
        <label for="ProduktionslederRadio"> Produktionsleder</label><br>
        <input type="radio" id="Laborant" name="Roles" value="Laborant">
        <label for="Laborant"> Laborant</label><br>
        <button type="button" onclick="finishCreateUser();">Opret bruger</button>
    </form>

    <form method="POST" action="" id="finish"
          style="position: absolute; visibility: hidden; left: 50px; top: 50px; z-index: 200;">
        <p>You did it, you crazy son of a bitch</p>



        <button type="button" onclick="goToWelcomeFromFinish()"><bs>Tilbage til start</bs></button>
    </form>

    <form method="POST" action="" id="deleteUser" style="position: absolute; visibility: hidden; left: 50px; top: 50px; z-index: 200;">
        <p>Who do you want to delete?</p>
        <div id="userList"></div>
        <button type="button" onclick="goToWelcomeFromDelete()"><bs>Tilbage til start</bs></button>
    </form>

    <form method="POST" action="" name="afvejning1" id="afvejning1" style="position: absolute; left: 50px; top: 70px; visibility: hidden">
        <label  for="productbatchID">Produktbatch ID:</label>
        <input type="text" id="productbatchID" name="productbatchID"><br><br>
        <button type="button" onclick="goToAfvejning2()">Send ind</button>
    </form>

    <form method="POST" action="" name="afvejning2" id="afvejning2" style="position: absolute; left: 50px; top: 70px; visibility: hidden">
        <label  for="raavare">Indtast råvaren: </label>
        <input type="text" id="raavare" name="raavare"><br><br>
        <label  for="raavarebatchNr">Indtast råvarebatch nr: </label>
        <input type="text" id="raavarebatchID" name="raavarebatchNr"><br><br>
        <label  for="weight">Indtast vægten: </label>
        <input type="text" id="weight" name="weight"><br><br>
        <label  for="tara">Indtast tara: </label>
        <input type="text" id="tara" name="tara"><br><br>
        <input type="button" value="Tilføj produckbatch komponent"  onClick="addProductbatchComponent()" id="addPbComponent"><br /><br />
        <table id="table" border="1">
            <thead id="table-head">
            <tr>
                <th>raavare</th>
                <th>weight - tara</th>
                <th>raavarebatchNr</th>
            </tr>
            </thead>
            <tbody id="table-body">
            </tbody>
        </table>
        <label id="statusOprettet" for="statusOprettet"><strong>Status:</strong> Nyt produktbatch kan påbegyndes</label><br><br>
        <label id="statusUnderProduktion" for="statusUnderProduktion"><strong>Status:</strong> Produktbatch er under produktion</label><br><br>
        <button type="button" onclick="goToAfvejning2()">Send ind</button>
        <button type="button" onclick="goToWelcomeFromFinish()">Send ind og afslut</button>
        <button type="button" onclick="resetTable()">Reset tabel</button>
    </form>

    <form method="POST" action="" name="farmaceut" id="farmaceut" style="position: absolute; left: 50px; top: 70px; visibility: hidden">
        <button type="button" onclick="goToRaavarebatch1()">Ændre på råvarebatches</button>
        <button type="button" onclick="goToProduktbatch1()">Ændre på produktbatches</button>
        <button type="button" onclick="goToAfvejning1()">Gå til afvejning</button>
        <button type="button" onclick="goToRecept1()">Gå til recept X</button>
        <button type="button" onclick="goToRaavare()">Ændre på råvare X</button>
        <button type="button" onclick="goToWelcomeFromDelete()"><bs>Tilbage til start</bs></button>
    </form>

    <form method="POST" action="" name="recept1" id="recept1" style="position: absolute; left: 50px; top: 70px; visibility: hidden">
        <button type="button" onclick="goToRecept2">Opret ny recept</button>
        <button type="button" onclick="goToRecept3">Vis recepter</button>
        <button type="button" onclick="goToFarmaceut()">Gå tilbage</button>
    </form>

    <form method="POST" action="" name="recept2" id="recept2" style="position: absolute; left: 50px; top: 70px; visibility: hidden">
        <label  for="receptNr">Indtast råvaren: </label>
        <input type="text" name="receptNr"><br><br>
        <label  for="receptNavn">Indtast råvarebatch nr: </label>
        <input type="text" id="receptNavn" name="receptNavn"><br><br>
        <button type="button" onclick="goToRecept1()">Gå tilbage</button>
        <button type="button" onclick="goToRecept3()">Opret recept</button>
    </form>

    <form method="POST" action="" name="recept3" id="recept3" style="position: absolute; left: 50px; top: 70px; visibility: hidden">
        <label  for="raavareRecept">Indtast råvaren: </label>
        <input type="text" id="raavareRecept" name="raavareRecept"><br><br>
        <label  for="maengdeRecept">Indtast mængden: </label>
        <input type="text" id="maengdeRecept" for="maengdeRecept" name="maengdeRecept"><br><br>
        <label  for="tolerance" >Indtast tolerancen: </label>
        <input type="text" id="tolerance" for="tolerance" name="receptNavn"><br><br>

        <table id="tableRecept" border="1">
            <thead id="tableRecept-head">
            <tr>
                <th>Raavare</th>
                <th>Mængde</th>
                <th>Tolerance</th>
            </tr>
            </thead>
            <tbody id="tableRecept-body">
            </tbody>
        </table>
        <label for="statusOprettet"><strong>Status:</strong> Ny recept kan påbegyndes</label><br><br>
        <label for="statusUnderProduktion"><strong>Status:</strong> Recept er under produktion</label><br><br>
        <button type="button" onclick="goToRecept2()">Gå tilbage</button>
        <input type="button" value="Tilføj recept komponent"  onClick="addReceptbatchComponent()" id="addRbComponent"><br /><br />
        <button type="button" onclick="finishRecept()">Færdigør X</button>
    </form>

<script>
        function resetValues(){
            document.getElementById("uname").value = "";
            document.getElementById("ini").value = "";
            document.getElementById("cpr").value = "";
            document.getElementById("password").value = "";
            document.getElementById("Pharmaceut").checked = false;
            document.getElementById("Admin").checked = false;
            document.getElementById("Produktionsleder").checked = false;
            document.getElementById("Laborant").checked = false;
        }

        function goToCreateUser() {
            document.getElementById("administrator").style.visibility = "hidden";
            document.getElementById("welcome").style.visibility = "hidden";
            document.getElementById("createUser").style.visibility = "visible";
        }

        function returnToStart() {
            document.getElementById("welcome").style.visibility = "visible";
            document.getElementById("createUser").style.visibility = "hidden";
            resetValues();
        }
        function goToProduktbatch1() {
            hideall();
            document.getElementById("produktbatch1").style.visibility = "visible";
        }

        function goToProduktbatch2() {
            hideall();
            document.getElementById("produktbatch2").style.visibility = "visible";
        }
        function goToProduktbatch3() {
            hideall();
            document.getElementById("produktbatch3").style.visibility = "visible";
            getAllProduktBatches("produktbatchList");
        }
        function createProduktBatch() {
            if(!document.getElementById("receptNr").value =="" &&
                !document.getElementById("dato") =="")
            {
                postAnProduktBatch();
                resetProduktBatch2();
                goToProduktionsleder();
            }else{
                alert("Please fill out all the fields!")
            }
        }
        function resetProduktBatch2() {
            document.getElementById("receptNr").value = "";
        }
        function finishCreateUser() {
            if (!document.getElementById("uname").value == "" &&
                !document.getElementById("ini").value == "" &&
                !document.getElementById("cpr").value == "" &&
                !document.getElementById("password").value == "" &&
                (document.getElementById("Pharmaceut").checked == true ||
                    document.getElementById("Admin").checked == true ||
                    document.getElementById("Produktionsleder").checked == true ||
                    document.getElementById("Laborant").checked == true))
            {
                postAnUser();

                resetValues();

                document.getElementById("createUser").style.visibility = "hidden";
                document.getElementById("finish").style.visibility = "visible";
            }
            else {
                alert("Please fill out all the fields!");
            }
        }

        function goToWelcomeFromFinish() {
            hideall();
            document.getElementById("welcome").style.visibility = "visible";
        }

        function goToWelcomeFromDelete() {
            hideall();
            document.getElementById("welcome").style.visibility = "visible";
            document.getElementById("title").innerHTML = "Welcome";

        }

        function goToDeleteUser() {
            hideall();
            document.getElementById("deleteUser").style.visibility = "visible";
            document.getElementById("title").innerHTML = "User list";
            getAllUsers("userList");
        }
        function goToAdmin() {
            hideall();
            document.getElementById("administrator").style.visibility = "visible";
            document.getElementById("title").innerHTML = "User list";
        }
        function goToProduktionsleder() {
            hideall();
            document.getElementById("produktionsleder").style.visibility = "visible";
            document.getElementById("title").innerHTML = "Produktionsleder";
        }
        function goToRaavarebatch1() {
            hideall();
            document.getElementById("raavarebatch1").style.visibility = "visible";
        }
        function goToRaavarebatch2() {
            hideall();
            document.getElementById("raavarebatch2").style.visibility = "visible";

        }
        function goToRaavarebatch3() {
            hideall();
            document.getElementById("raavarebatch3").style.visibility = "visible";
            document.getElementById("title").innerHTML = "Råvarebatch list";
            getAllRaavarebatches("raavarebatchlist");
        }
        function goToAfvejning1() {
            hideall();
            document.getElementById("afvejning1").style.visibility = "visible";
            document.getElementById("title").innerHTML = "Afvejning1";
        }
        function goToAfvejning2() {
            hideall();
            document.getElementById("afvejning2").style.visibility = "visible";
            document.getElementById("title").innerHTML = "Afvejning2";
            document.getElementById("statusOprettet").style.visibility = "visible"
            resetTable();
        }
        function resetTable(){
            var tableBody = document.getElementById("table-body");
            var td1 = document.createElement("td");
            var td2 = document.createElement("td");
            var td3 = document.createElement("td");
            var row = document.createElement("tr");
            td1.innerHTML = document.getElementById("raavare").value;
            td2.innerHTML = document.getElementById("weight").value - document.getElementById("tara").value;
            td3.innerHTML = document.getElementById("raavarebatchID").value;
            row.removeChild(td1);
            row.removeChild(td2);
            row.removeChild(td3);
            tableBody.removeChild(row);
            document.getElementById("statusOprettet").style.visibility = "visible";
            document.getElementById("statusUnderProduktion").style.visibility = "hidden";
        }

        function hideall() {
            document.getElementById("welcome").style.visibility = "hidden";
            document.getElementById("administrator").style.visibility = "hidden";
            document.getElementById("produktionsleder").style.visibility = "hidden";
            document.getElementById("raavarebatch1").style.visibility = "hidden";
            document.getElementById("raavarebatch2").style.visibility = "hidden";
            document.getElementById("raavarebatch3").style.visibility = "hidden"
            document.getElementById("produktbatch1").style.visibility = "hidden"
            document.getElementById("produktbatch2").style.visibility = "hidden"
            // document.getElementById("produktbatch3").style.visibility = "hidden"
            document.getElementById("deleteUser").style.visibility = "hidden";
            document.getElementById("finish").style.visibility = "hidden";
            document.getElementById("createUser").style.visibility = "hidden";
            document.getElementById("afvejning1").style.visibility = "hidden";
            document.getElementById("afvejning2").style.visibility = "hidden";
            document.getElementById("statusOprettet").style.visibility = "hidden";
            document.getElementById("statusUnderProduktion").style.visibility = "hidden";
            document.getElementById("farmaceut").style.visibility = "hidden";
            document.getElementById("recept1").style.visibility = "hidden";
            document.getElementById("recept2").style.visibility = "hidden";
            document.getElementById("recept3").style.visibility = "hidden";
        }

        function addProductbatchComponent() {
            var tableBody = document.getElementById("table-body");
            var td1 = document.createElement("td");
            var td2 = document.createElement("td");
            var td3 = document.createElement("td");
            var row = document.createElement("tr");
            td1.innerHTML = document.getElementById("raavare").value;
            td2.innerHTML = document.getElementById("weight").value - document.getElementById("tara").value;
            td3.innerHTML = document.getElementById("raavarebatchID").value;
            row.appendChild(td1);
            row.appendChild(td2);
            row.appendChild(td3);
            tableBody.appendChild(row);
            document.getElementById("statusOprettet").style.visibility = "hidden";
            document.getElementById("statusUnderProduktion").style.visibility = "visible";
        }
        function goToFarmaceut(){
            hideall();
            document.getElementById("farmaceut").style.visibility = "visible";
        }
        function goToRecept1(){
            hideall();
            document.getElementById("recept1").style.visibility = "visible";
        }
        function goToRecept2() {
            hideall();
            document.getElementById("recept2").style.visibility = "visible";
        }
        function goToRecept3() {
            hideall();
            document.getElementById("recept3").style.visibility = "visible";
        }
        function addReceptbatchComponent() {
            var tableBody = document.getElementById("table-body");
            var td1 = document.createElement("td");
            var td2 = document.createElement("td");
            var td3 = document.createElement("td");
            var row = document.createElement("tr");
            td1.innerHTML = document.getElementById("raavareRecept").value;
            td2.innerHTML = document.getElementById("maengdeRecept").value ;
            td3.innerHTML = document.getElementById("tolerance").value;
            row.appendChild(td1);
            row.appendChild(td2);
            row.appendChild(td3);
            tableBody.appendChild(row);
            document.getElementById("statusOprettet").style.visibility = "hidden";
            document.getElementById("statusUnderProduktion").style.visibility = "visible";
        }
        function finishRecept() {
            hideall();
            //MANGLER
        }
        function goLogIn() {
            hideall();
        }

    </script>
</body>
<head>
    <meta charset="UTF-8">
    <title>CDIO 2</title>
</head>
</html>
